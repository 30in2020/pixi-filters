!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";if("undefined"==typeof PIXI||void 0===PIXI.filters)throw"PixiJS is required";var t="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",e="varying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    // get the rounded color..\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\n    pixCoord = unmapCoord(pixCoord);\n\n    vec4 color = texture2D(uSampler, pixCoord);\n\n    // determine the character to use\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    // get the mod..\n    vec2 modd = getMod(coord, vec2(pixelSize));\n\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n\n}",n=function(n){function r(r){void 0===r&&(r=8),n.call(this,t,e),this.size=r}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var o={size:{configurable:!0}};return o.size.get=function(){return this.uniforms.pixelSize},o.size.set=function(t){this.uniforms.pixelSize=t},Object.defineProperties(r.prototype,o),r}(PIXI.Filter);PIXI.filters.AsciiFilter=n;var r="\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",o="\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n",i=function(t){function e(e){void 0===e&&(e=.5),t.call(this,r,o),this.threshold=e}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={threshold:{configurable:!0}};return n.threshold.get=function(){return this.uniforms.threshold},n.threshold.set=function(t){this.uniforms.threshold=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter),a="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",l="uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n",s=function(t){function e(e){t.call(this,a,l),"number"==typeof e&&(e={threshold:e}),e=Object.assign({threshold:.5,bloomScale:1,brightness:1,blur:8,quality:4,resolution:PIXI.settings.RESOLUTION,kernelSize:5},e),this.bloomScale=e.bloomScale,this.brightness=e.brightness;var n=e.blur,r=e.quality,o=e.resolution,s=e.kernelSize,u=PIXI.filters,c=u.BlurXFilter,d=u.BlurYFilter;this._extract=new i(e.threshold),this._blurX=new c(n,r,o,s),this._blurY=new d(n,r,o,s)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={threshold:{configurable:!0},blur:{configurable:!0}};return e.prototype.apply=function(t,e,n,r,o){var i=t.getRenderTarget(!0);this._extract.apply(t,e,i,!0,o),this._blurX.apply(t,i,i,!0,o),this._blurY.apply(t,i,i,!0,o),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=i,t.applyFilter(this,e,n,r),t.returnRenderTarget(i)},n.threshold.get=function(){return this._extract.threshold},n.threshold.set=function(t){this._extract.threshold=t},n.blur.get=function(){return this._blurX.blur},n.blur.set=function(t){this._blurX.blur=this._blurY.blur=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.AdvancedBloomFilter=s;var u=PIXI.filters,c=u.BlurXFilter,d=u.BlurYFilter,f=u.AlphaFilter,h=function(t){function e(e,n,r,o){void 0===e&&(e=2),void 0===n&&(n=4),void 0===r&&(r=PIXI.settings.RESOLUTION),void 0===o&&(o=5),t.call(this);var i,a;"number"==typeof e?(i=e,a=e):e instanceof PIXI.Point?(i=e.x,a=e.y):Array.isArray(e)&&(i=e[0],a=e[1]),this.blurXFilter=new c(i,n,r,o),this.blurYFilter=new d(a,n,r,o),this.blurYFilter.blendMode=PIXI.BLEND_MODES.SCREEN,this.defaultFilter=new f}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={blur:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0}};return e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.defaultFilter.apply(t,e,n),this.blurXFilter.apply(t,e,r),this.blurYFilter.apply(t,r,n),t.returnRenderTarget(r)},n.blur.get=function(){return this.blurXFilter.blur},n.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t},n.blurX.get=function(){return this.blurXFilter.blur},n.blurX.set=function(t){this.blurXFilter.blur=t},n.blurY.get=function(){return this.blurYFilter.blur},n.blurY.set=function(t){this.blurYFilter.blur=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.BloomFilter=h;var g="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",m="uniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    gl_FragColor = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        gl_FragColor *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n}\n",p=function(t){function e(e,n,r){t.call(this,g,m),this.center=e||[.5,.5],this.radius=n||100,this.strength=r||1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={radius:{configurable:!0},strength:{configurable:!0},center:{configurable:!0}};return e.prototype.apply=function(t,e,n,r){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,t.applyFilter(this,e,n,r)},n.radius.get=function(){return this.uniforms.radius},n.radius.set=function(t){this.uniforms.radius=t},n.strength.get=function(){return this.uniforms.strength},n.strength.set=function(t){this.uniforms.strength=t},n.center.get=function(){return this.uniforms.center},n.center.set=function(t){this.uniforms.center=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.BulgePinchFilter=p;var v="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",x="varying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(texture, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n",y=function(t){function e(e,n,r){void 0===e&&(e=16711680),void 0===n&&(n=0),void 0===r&&(r=.4),t.call(this,v,x),this.originalColor=e,this.newColor=n,this.epsilon=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={originalColor:{configurable:!0},newColor:{configurable:!0},epsilon:{configurable:!0}};return n.originalColor.set=function(t){var e=this.uniforms.originalColor;"number"==typeof t?(PIXI.utils.hex2rgb(t,e),this._originalColor=t):(e[0]=t[0],e[1]=t[1],e[2]=t[2],this._originalColor=PIXI.utils.rgb2hex(e))},n.originalColor.get=function(){return this._originalColor},n.newColor.set=function(t){var e=this.uniforms.newColor;"number"==typeof t?(PIXI.utils.hex2rgb(t,e),this._newColor=t):(e[0]=t[0],e[1]=t[1],e[2]=t[2],this._newColor=PIXI.utils.rgb2hex(e))},n.newColor.get=function(){return this._newColor},n.epsilon.set=function(t){this.uniforms.epsilon=t},n.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.ColorReplaceFilter=y;var b="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",C="precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",_=function(t){function e(e,n,r){t.call(this,b,C),this.matrix=e,this.width=n,this.height=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={matrix:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return n.matrix.get=function(){return this.uniforms.matrix},n.matrix.set=function(t){this.uniforms.matrix=new Float32Array(t)},n.width.get=function(){return 1/this.uniforms.texelSize[0]},n.width.set=function(t){this.uniforms.texelSize[0]=1/t},n.height.get=function(){return 1/this.uniforms.texelSize[1]},n.height.set=function(t){this.uniforms.texelSize[1]=1/t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.ConvolutionFilter=_;var P="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",F="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n",I=function(t){function e(){t.call(this,P,F)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(PIXI.Filter);PIXI.filters.CrossHatchFilter=I;var T="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",S="precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * filterArea.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",w=function(t){function e(e,n){void 0===e&&(e=1),void 0===n&&(n=5),t.call(this,T,S),this.scale=e,this.angle=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={scale:{configurable:!0},angle:{configurable:!0}};return n.scale.get=function(){return this.uniforms.scale},n.scale.set=function(t){this.uniforms.scale=t},n.angle.get=function(){return this.uniforms.angle},n.angle.set=function(t){this.uniforms.angle=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.DotFilter=w;var z="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",X="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n\n    // Un-premultiply alpha before applying the color\n    if (sample.a > 0.0) {\n        sample.rgb /= sample.a;\n    }\n\n    // Premultiply alpha again\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}",A=function(t){function e(e,n,r,o,i){void 0===e&&(e=45),void 0===n&&(n=5),void 0===r&&(r=2),void 0===o&&(o=0),void 0===i&&(i=.5),t.call(this),this.tintFilter=new PIXI.Filter(z,X),this.blurFilter=new PIXI.filters.BlurFilter,this.blurFilter.blur=r,this.targetTransform=new PIXI.Matrix,this.rotation=e,this.padding=n,this.distance=n,this.alpha=i,this.color=o}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={distance:{configurable:!0},rotation:{configurable:!0},blur:{configurable:!0},alpha:{configurable:!0},color:{configurable:!0}};return e.prototype.apply=function(t,e,n,r){var o=t.getRenderTarget();o.transform=this.targetTransform,this.tintFilter.apply(t,e,o,!0),this.blurFilter.apply(t,o,n),t.applyFilter(this,e,n,r),o.transform=null,t.returnRenderTarget(o)},e.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},e.prototype._updateTargetTransform=function(){this.targetTransform.tx=this.distance*Math.cos(this.angle),this.targetTransform.ty=this.distance*Math.sin(this.angle)},n.distance.get=function(){return this._distance},n.distance.set=function(t){this._distance=t,this._updatePadding(),this._updateTargetTransform()},n.rotation.get=function(){return this.angle/PIXI.DEG_TO_RAD},n.rotation.set=function(t){this.angle=t*PIXI.DEG_TO_RAD,this._updateTargetTransform()},n.blur.get=function(){return this.blurFilter.blur},n.blur.set=function(t){this.blurFilter.blur=t,this._updatePadding()},n.alpha.get=function(){return this.tintFilter.uniforms.alpha},n.alpha.set=function(t){this.tintFilter.uniforms.alpha=t},n.color.get=function(){return PIXI.utils.rgb2hex(this.tintFilter.uniforms.color)},n.color.set=function(t){PIXI.utils.hex2rgb(t,this.tintFilter.uniforms.color)},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.DropShadowFilter=A;var D="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",j="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float strength;\nuniform vec4 filterArea;\n\n\nvoid main(void)\n{\n\tvec2 onePixel = vec2(1.0 / filterArea);\n\n\tvec4 color;\n\n\tcolor.rgb = vec3(0.5);\n\n\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\n\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\n\n\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\n\n\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\n\n\tgl_FragColor = vec4(color.rgb * alpha, alpha);\n}\n",M=function(t){function e(e){void 0===e&&(e=5),t.call(this,D,j),this.strength=e}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={strength:{configurable:!0}};return n.strength.get=function(){return this.uniforms.strength},n.strength.set=function(t){this.uniforms.strength=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.EmbossFilter=M;var O="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",R="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float distance;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec4 glowColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float cosAngle;\n    float sinAngle;\n    vec2 displaced;\n    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {\n       cosAngle = cos(angle);\n       sinAngle = sin(angle);\n       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {\n           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;\n           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;\n           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n           totalAlpha += (distance - curDistance) * curColor.a;\n           maxTotalAlpha += (distance - curDistance);\n       }\n    }\n    maxTotalAlpha = max(maxTotalAlpha, 0.0001);\n\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\n    float resultAlpha = (ownColor.a + outerGlowAlpha);\n    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\n}\n",V=function(t){function e(e,n,r,o,i){void 0===e&&(e=10),void 0===n&&(n=4),void 0===r&&(r=0),void 0===o&&(o=16777215),void 0===i&&(i=.1),t.call(this,O,R.replace(/%QUALITY_DIST%/gi,""+(1/i/e).toFixed(7)).replace(/%DIST%/gi,""+e.toFixed(7))),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.distance=e,this.color=o,this.outerStrength=n,this.innerStrength=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={color:{configurable:!0},distance:{configurable:!0},outerStrength:{configurable:!0},innerStrength:{configurable:!0}};return n.color.get=function(){return PIXI.utils.rgb2hex(this.uniforms.glowColor)},n.color.set=function(t){PIXI.utils.hex2rgb(t,this.uniforms.glowColor)},n.distance.get=function(){return this.uniforms.distance},n.distance.set=function(t){this.uniforms.distance=t},n.outerStrength.get=function(){return this.uniforms.outerStrength},n.outerStrength.set=function(t){this.uniforms.outerStrength=t},n.innerStrength.get=function(){return this.uniforms.innerStrength},n.innerStrength.set=function(t){this.uniforms.innerStrength=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.GlowFilter=V;var E="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",B="vec3 mod289(vec3 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 permute(vec4 x)\n{\n    return mod289(((x * 34.0) + 1.0) * x);\n}\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nvec3 fade(vec3 t)\n{\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n}\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\n{\n    float sum = 0.0;\n    float sc = 1.0;\n    float totalgain = 1.0;\n    for (float i = 0.0; i < 6.0; i++)\n    {\n        sum += totalgain * pnoise(P * sc, rep);\n        sc *= lacunarity;\n        totalgain *= gain;\n    }\n    return abs(sum);\n}\n",k="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform vec2 angleDir;\nuniform float gain;\nuniform float lacunarity;\nuniform float time;\n\n${perlin}\n\nvoid main(void) {\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    float xx = angleDir.x;\n    float yy = angleDir.y;\n\n    float d = (xx * coord.x) + (yy * coord.y);\n    vec3 dir = vec3(d, d, 0.0);\n\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\n    noise = mix(noise, 0.0, 0.3);\n    //fade vertically.\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\n    mist.a = 1.0;\n    gl_FragColor += mist;\n}\n",L=function(t){function e(e,n,r,o){void 0===e&&(e=30),void 0===n&&(n=.5),void 0===r&&(r=2.5),void 0===o&&(o=0),t.call(this,E,k.replace("${perlin}",B)),this.angle=e,this.gain=n,this.lacunarity=r,this.time=o}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={angle:{configurable:!0},gain:{configurable:!0},lacunarity:{configurable:!0}};return e.prototype.apply=function(t,e,n,r){var o=e.sourceFrame.width,i=e.sourceFrame.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,this.uniforms.time=this.time,this.uniforms.angleDir[1]=this._angleSin*i/o,t.applyFilter(this,e,n,r)},n.angle.get=function(){return this._angle},n.angle.set=function(t){var e=t*PIXI.DEG_TO_RAD;this._angleCos=Math.cos(e),this._angleSin=Math.sin(e),this.uniforms.angleDir[0]=this._angleCos,this._angle=t},n.gain.get=function(){return this.uniforms.gain},n.gain.set=function(t){this.uniforms.gain=t},n.lacunarity.get=function(){return this.uniforms.lacunarity},n.lacunarity.set=function(t){this.uniforms.lacunarity=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.GodrayFilter=L;var Y="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",G="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle < PI * 2.; angle += %THICKNESS% ) {\n        displaced.x = vTextureCoord.x + thickness * px.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness * px.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n",W=function(t){function e(e,n){void 0===e&&(e=1),void 0===n&&(n=0),t.call(this,Y,G.replace(/%THICKNESS%/gi,(1/e).toFixed(7))),this.thickness=e,this.uniforms.outlineColor=new Float32Array([0,0,0,1]),this.color=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={color:{configurable:!0},thickness:{configurable:!0}};return n.color.get=function(){return PIXI.utils.rgb2hex(this.uniforms.outlineColor)},n.color.set=function(t){PIXI.utils.hex2rgb(t,this.uniforms.outlineColor)},n.thickness.get=function(){return this.uniforms.thickness},n.thickness.set=function(t){this.uniforms.thickness=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.OutlineFilter=W;var H="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",N="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n",q=function(t){function e(e,n,r){void 0===n&&(n=.05),void 0===r&&(r=null),r=r||e.length,t.call(this,H,N.replace(/%maxColors%/g,r)),this.epsilon=n,this._maxColors=r,this._replacements=null,this.uniforms.originalColors=new Float32Array(3*r),this.uniforms.targetColors=new Float32Array(3*r),this.replacements=e}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={replacements:{configurable:!0},maxColors:{configurable:!0},epsilon:{configurable:!0}};return n.replacements.set=function(t){var e=this.uniforms.originalColors,n=this.uniforms.targetColors,r=t.length;if(r>this._maxColors)throw"Length of replacements ("+r+") exceeds the maximum colors length ("+this._maxColors+")";e[3*r]=-1;for(var o=0;o<r;o++){var i=t[o],a=i[0];"number"==typeof a?a=PIXI.utils.hex2rgb(a):i[0]=PIXI.utils.rgb2hex(a),e[3*o]=a[0],e[3*o+1]=a[1],e[3*o+2]=a[2];var l=i[1];"number"==typeof l?l=PIXI.utils.hex2rgb(l):i[1]=PIXI.utils.rgb2hex(l),n[3*o]=l[0],n[3*o+1]=l[1],n[3*o+2]=l[2]}this._replacements=t},n.replacements.get=function(){return this._replacements},e.prototype.refresh=function(){this.replacements=this._replacements},n.maxColors.get=function(){return this._maxColors},n.epsilon.set=function(t){this.uniforms.epsilon=t},n.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.MultiColorReplaceFilter=q;var U="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",K="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = pixelate(coord, size);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord);\n}\n",Z=function(t){function e(e){void 0===e&&(e=10),t.call(this,U,K),this.size=e}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.uniforms.size},n.size.set=function(t){"number"==typeof t&&(t=[t,t]),this.uniforms.size=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.PixelateFilter=Z;var Q="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",$="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",J=function(t){function e(e,n,r){void 0===e&&(e=[-10,0]),void 0===n&&(n=[0,10]),void 0===r&&(r=[0,0]),t.call(this,Q,$),this.red=e,this.green=n,this.blue=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return n.red.get=function(){return this.uniforms.red},n.red.set=function(t){this.uniforms.red=t},n.green.get=function(){return this.uniforms.green},n.green.set=function(t){this.uniforms.green=t},n.blue.get=function(){return this.uniforms.blue},n.blue.set=function(t){this.uniforms.blue=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.RGBSplitFilter=J;var tt="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",et="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nuniform vec2 center;\n\nuniform float amplitude;\nuniform float wavelength;\n// uniform float power;\nuniform float brightness;\nuniform float speed;\nuniform float radius;\n\nuniform float time;\n\nconst float PI = 3.14159;\n\nvoid main()\n{\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\n    float maxRadius = radius / filterArea.x;\n    float currentRadius = time * speed / filterArea.x;\n\n    float fade = 1.0;\n\n    if (maxRadius > 0.0) {\n        if (currentRadius > maxRadius) {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\n    }\n\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\n    dir.y *= filterArea.y / filterArea.x;\n    float dist = length(dir);\n\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    vec2 diffUV = normalize(dir);\n\n    float diff = (dist - currentRadius) / halfWavelength;\n\n    float p = 1.0 - pow(abs(diff), 2.0);\n\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\n\n    vec2 offset = diffUV * powDiff / filterArea.xy;\n\n    // Do clamp :\n    vec2 coord = vTextureCoord + offset;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    gl_FragColor = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        gl_FragColor *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    // No clamp :\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\n\n    gl_FragColor.rgb *= 1.0 + (brightness - 1.0) * p * fade;\n}\n",nt=function(t){function e(e,n,r){void 0===e&&(e=[0,0]),void 0===n&&(n={}),void 0===r&&(r=0),t.call(this,tt,et),this.center=e,Array.isArray(n)&&(console.warn("Deprecated Warning: ShockwaveFilter params Array has been changed to options Object."),n={}),n=Object.assign({amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},n),this.amplitude=n.amplitude,this.wavelength=n.wavelength,this.brightness=n.brightness,this.speed=n.speed,this.radius=n.radius,this.time=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={center:{configurable:!0},amplitude:{configurable:!0},wavelength:{configurable:!0},brightness:{configurable:!0},speed:{configurable:!0},radius:{configurable:!0}};return e.prototype.apply=function(t,e,n,r){this.uniforms.time=this.time,t.applyFilter(this,e,n,r)},n.center.get=function(){return this.uniforms.center},n.center.set=function(t){this.uniforms.center=t},n.amplitude.get=function(){return this.uniforms.amplitude},n.amplitude.set=function(t){this.uniforms.amplitude=t},n.wavelength.get=function(){return this.uniforms.wavelength},n.wavelength.set=function(t){this.uniforms.wavelength=t},n.brightness.get=function(){return this.uniforms.brightness},n.brightness.set=function(t){this.uniforms.brightness=t},n.speed.get=function(){return this.uniforms.speed},n.speed.set=function(t){this.uniforms.speed=t},n.radius.get=function(){return this.uniforms.radius},n.radius.set=function(t){this.uniforms.radius=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.ShockwaveFilter=nt;var rt="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ot="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uLightmap;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\nuniform vec4 ambientColor;\nvoid main() {\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\n    vec4 light = texture2D(uLightmap, lightCoord);\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\n    vec3 intensity = ambient + light.rgb;\n    vec3 finalColor = diffuseColor.rgb * intensity;\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\n}\n",it=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=1),t.call(this,rt,ot),this.uniforms.ambientColor=new Float32Array([0,0,0,r]),this.texture=e,this.color=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={texture:{configurable:!0},color:{configurable:!0},alpha:{configurable:!0}};return e.prototype.apply=function(t,e,n,r){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,t.applyFilter(this,e,n,r)},n.texture.get=function(){return this.uniforms.uLightmap},n.texture.set=function(t){this.uniforms.uLightmap=t},n.color.set=function(t){var e=this.uniforms.ambientColor;"number"==typeof t?(PIXI.utils.hex2rgb(t,e),this._color=t):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._color=PIXI.utils.rgb2hex(e))},n.color.get=function(){return this._color},n.alpha.get=function(){return this.uniforms.ambientColor[3]},n.alpha.set=function(t){this.uniforms.ambientColor[3]=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.SimpleLightmapFilter=it;var at="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",lt="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",st=function(t){function e(e,n,r,o){void 0===e&&(e=100),void 0===n&&(n=600),void 0===r&&(r=null),void 0===o&&(o=null),t.call(this,at,lt),this.uniforms.blur=e,this.uniforms.gradientBlur=n,this.uniforms.start=r||new PIXI.Point(0,window.innerHeight/2),this.uniforms.end=o||new PIXI.Point(600,window.innerHeight/2),this.uniforms.delta=new PIXI.Point(30,30),this.uniforms.texSize=new PIXI.Point(window.innerWidth,window.innerHeight),this.updateDelta()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},n.blur.get=function(){return this.uniforms.blur},n.blur.set=function(t){this.uniforms.blur=t},n.gradientBlur.get=function(){return this.uniforms.gradientBlur},n.gradientBlur.set=function(t){this.uniforms.gradientBlur=t},n.start.get=function(){return this.uniforms.start},n.start.set=function(t){this.uniforms.start=t,this.updateDelta()},n.end.get=function(){return this.uniforms.end},n.end.set=function(t){this.uniforms.end=t,this.updateDelta()},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.TiltShiftAxisFilter=st;var ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.x=t/n,this.uniforms.delta.y=e/n},e}(st);PIXI.filters.TiltShiftXFilter=ut;var ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.x=-e/n,this.uniforms.delta.y=t/n},e}(st);PIXI.filters.TiltShiftYFilter=ct;var dt=function(t){function e(e,n,r,o){void 0===e&&(e=100),void 0===n&&(n=600),void 0===r&&(r=null),void 0===o&&(o=null),t.call(this),this.tiltShiftXFilter=new ut(e,n,r,o),this.tiltShiftYFilter=new ct(e,n,r,o)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.tiltShiftXFilter.apply(t,e,r),this.tiltShiftYFilter.apply(t,r,n),t.returnRenderTarget(r)},n.blur.get=function(){return this.tiltShiftXFilter.blur},n.blur.set=function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t},n.gradientBlur.get=function(){return this.tiltShiftXFilter.gradientBlur},n.gradientBlur.set=function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t},n.start.get=function(){return this.tiltShiftXFilter.start},n.start.set=function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t},n.end.get=function(){return this.tiltShiftXFilter.end},n.end.set=function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.TiltShiftFilter=dt;var ft="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ht="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n",gt=function(t){function e(e,n,r){void 0===e&&(e=200),void 0===n&&(n=4),void 0===r&&(r=20),t.call(this,ft,ht),this.radius=e,this.angle=n,this.padding=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={offset:{configurable:!0},radius:{configurable:!0},angle:{configurable:!0}};return n.offset.get=function(){return this.uniforms.offset},n.offset.set=function(t){this.uniforms.offset=t},n.radius.get=function(){return this.uniforms.radius},n.radius.set=function(t){this.uniforms.radius=t},n.angle.get=function(){return this.uniforms.angle},n.angle.set=function(t){this.uniforms.angle=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.TwistFilter=gt;var mt="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",pt="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uCenter;\nuniform float uStrength;\nuniform float uInnerRadius;\nuniform float uRadius;\n\nconst float MAX_KERNEL_SIZE = 32.0;\n\nfloat random(vec3 scale, float seed) {\n    // use the fragment position for a different seed per-pixel\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main() {\n\n    float minGradient = uInnerRadius * 0.3;\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\n\n    float gradient = uRadius * 0.3;\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\n\n    float countLimit = MAX_KERNEL_SIZE;\n\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\n\n    float strength = uStrength;\n\n    float delta = 0.0;\n    float gap;\n    if (dist < innerRadius) {\n        delta = innerRadius - dist;\n        gap = minGradient;\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\n        delta = dist - radius;\n        gap = gradient;\n    }\n\n    if (delta > 0.0) {\n        float normalCount = gap / filterArea.x;\n        delta = (normalCount - delta) / normalCount;\n        countLimit *= delta;\n        strength *= delta;\n        if (countLimit < 1.0)\n        {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n    }\n\n    // randomize the lookup values to hide the fixed number of samples\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    float total = 0.0;\n    vec4 color = vec4(0.0);\n\n    dir *= strength;\n\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\n        float weight = 4.0 * (percent - percent * percent);\n        vec2 p = vTextureCoord + dir * percent;\n        vec4 sample = texture2D(uSampler, p);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n\n        if (t > countLimit){\n            break;\n        }\n    }\n\n    gl_FragColor = color / total;\n\n    // switch back from pre-multiplied alpha\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n\n}\n",vt=function(t){function e(e,n,r,o){void 0===e&&(e=.1),void 0===n&&(n=[0,0]),void 0===r&&(r=0),void 0===o&&(o=-1),t.call(this,mt,pt),this.center=n,this.strength=e,this.innerRadius=r,this.radius=o}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={center:{configurable:!0},strength:{configurable:!0},innerRadius:{configurable:!0},radius:{configurable:!0}};return n.center.get=function(){return this.uniforms.uCenter},n.center.set=function(t){this.uniforms.uCenter=t},n.strength.get=function(){return this.uniforms.uStrength},n.strength.set=function(t){this.uniforms.uStrength=t},n.innerRadius.get=function(){return this.uniforms.uInnerRadius},n.innerRadius.set=function(t){this.uniforms.uInnerRadius=t},n.radius.get=function(){return this.uniforms.uRadius},n.radius.set=function(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t},Object.defineProperties(e.prototype,n),e}(PIXI.Filter);PIXI.filters.ZoomBlurFilter=vt,function(t,e,n,r,o,i,a){t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"ga"),ga("create","UA-103772589-3","auto"),ga("send","pageview");var xt=function(t){function e(){var e=new dat.GUI;e.useLocalStorage=!1;var n=document.querySelector("#container"),r=n.offsetWidth,o=n.offsetHeight;t.call(this,{view:document.querySelector("#stage"),width:r,height:o,autoStart:!1,backgroundColor:0}),this.domElement=n,this.initWidth=r,this.initHeight=o,this.animating=!0,this.rendering=!0,this.events=new PIXI.utils.EventEmitter,this.animateTimer=0,this.bg=null,this.pond=null,this.fishCount=20,this.fishes=[],this.fishFilters=[],this.pondFilters=[],this.filterArea=new PIXI.Rectangle,this.padding=100,this.bounds=new PIXI.Rectangle(-this.padding,-this.padding,r+2*this.padding,o+2*this.padding);var i=this;this.gui=e,this.gui.add(this,"rendering").name("&bull; Rendering").onChange(function(t){t?i.start():i.stop()}),this.gui.add(this,"animating").name("&bull; Animating")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={resources:{configurable:!0}};return n.resources.get=function(){return this.loader.resources},e.prototype.load=function(t,e){var n=this;this.loader.add(t).load(function(){e(),n.init(),n.start()})},e.prototype.init=function(){var t=this,e=this.loader.resources,n=this,r=n.bounds,o=n.initWidth,i=n.initHeight;this.pond=new PIXI.Container,this.pond.filterArea=this.filterArea,this.pond.filters=this.pondFilters,this.stage.addChild(this.pond),this.bg=new PIXI.Sprite(e.background.texture),this.pond.addChild(this.bg);for(var a=0;a<this.fishCount;a++){var l="fish"+(a%4+1),s=new PIXI.Sprite(e[l].texture);s.anchor.set(.5),s.filters=t.fishFilters,s.direction=Math.random()*Math.PI*2,s.speed=2+2*Math.random(),s.turnSpeed=Math.random()-.8,s.x=Math.random()*r.width,s.y=Math.random()*r.height,s.scale.set(.8+.3*Math.random()),t.pond.addChild(s),t.fishes.push(s)}this.overlay=new PIXI.extras.TilingSprite(e.overlay.texture,o,i),this.pond.addChild(this.overlay),window.addEventListener("resize",this.resize.bind(this)),this.resize(),this.ticker.add(this.animate,this)},e.prototype.resize=function(){var t=this,e=t.padding,n=t.bg,r=t.overlay,o=t.filterArea,i=t.bounds,a=this.domElement.offsetWidth,l=this.domElement.offsetHeight,s=n.texture.width/n.texture.height;a/l>s?(n.width=a,n.height=a/s):(n.height=l,n.width=l*s),n.x=(a-n.width)/2,n.y=(l-n.height)/2,r.width=a,r.height=l,i.x=-e,i.y=-e,i.width=a+2*e,i.height=l+2*e,o.x=4,o.y=4,o.width=a-8,o.height=l-8,this.events.emit("resize",a,l),this.renderer.resize(a,l),this.render()},e.prototype.animate=function(t){var e=this;this.animateTimer+=t;var n=this,r=n.bounds,o=n.animateTimer,i=n.overlay;if(this.events.emit("animate",t,o),this.animating){i.tilePosition.x=-1*o,i.tilePosition.y=-1*o;for(var a=0;a<this.fishes.length;a++){var l=e.fishes[a];l.direction+=.01*l.turnSpeed,l.x+=Math.sin(l.direction)*l.speed,l.y+=Math.cos(l.direction)*l.speed,l.rotation=-l.direction-Math.PI/2,l.x<r.x&&(l.x+=r.width),l.x>r.x+r.width&&(l.x-=r.width),l.y<r.y&&(l.y+=r.height),l.y>r.y+r.height&&(l.y-=r.height)}}},e.prototype.addFilter=function(t,e){var n=this;"function"==typeof e&&(e={oncreate:e}),(e=Object.assign({name:t,enabled:!1,opened:!1,args:null,fishOnly:!1,global:!1,oncreate:null},e)).global&&(e.name+=" (pixi.js)");var r=this,o=this.gui.addFolder(e.name),i=PIXI.filters[t];if(!i)throw'Unable to find class name with "'+t+'"';var a;if(e.args){var l=function(t){i.apply(this,t)};l.prototype=i.prototype,a=new l(e.args)}else a=new i;return a.enabled=e.enabled,o.add(a,"enabled").onChange(function(e){ga("send","event",t,e?"enabled":"disabled"),r.events.emit("enable",e),n.render(),e?o.domElement.className+=" enabled":o.domElement.className=o.domElement.className.replace(" enabled","")}),e.opened&&o.open(),e.enabled&&(o.domElement.className+=" enabled"),e.oncreate&&e.oncreate.call(a,o),e.fishOnly?this.fishFilters.push(a):this.pondFilters.push(a),a},Object.defineProperties(e.prototype,n),e}(PIXI.Application),yt=Object.freeze({advancedBloom:function(){this.addFilter("AdvancedBloomFilter",function(t){t.add(this,"threshold",.1,.9),t.add(this,"bloomScale",.5,1.5),t.add(this,"brightness",.5,1.5),t.add(this,"blur",0,20)})},alpha:function(){this.addFilter("AlphaFilter",{global:!0,oncreate:function(t){t.add(this,"alpha",0,1)}})},ascii:function(){this.addFilter("AsciiFilter",function(t){t.add(this,"size",2,20)})},bloom:function(){this.addFilter("BloomFilter",function(t){t.add(this,"blur",0,20),t.add(this,"blurX",0,20),t.add(this,"blurY",0,20)})},blur:function(){this.addFilter("BlurFilter",{global:!0,oncreate:function(t){t.add(this,"blur",0,100),t.add(this,"quality",1,10)}})},bulgePinch:function(){this.addFilter("BulgePinchFilter",function(t){t.add(this,"radius",0,1e3),t.add(this,"strength",-1,1),t.add(this.center,"0",0,1).name("center.x"),t.add(this.center,"1",0,1).name("center.y")})},colorMatrix:function(){this.addFilter("ColorMatrixFilter",{global:!0,oncreate:function(t){t.add(this,"reset"),t.add(this,"sepia"),t.add(this,"negative"),t.add({kodachrome:this.kodachrome.bind(this,!0)},"kodachrome"),t.add({lsd:this.lsd.bind(this,!0)},"lsd"),t.add(this,"polaroid"),t.add(this,"desaturate"),t.add({contrast:this.contrast.bind(this,1)},"contrast"),t.add({greyscale:this.greyscale.bind(this,1)},"greyscale"),t.add({predator:this.predator.bind(this,1)},"predator"),t.add({saturate:this.saturate.bind(this,1)},"saturate")}})},colorReplace:function(){this.addFilter("ColorReplaceFilter",function(t){t.addColor(this,"originalColor"),t.addColor(this,"newColor"),t.add(this,"epsilon",0,1)})},convolution:function(){this.addFilter("ConvolutionFilter",{args:[[0,0,0,1,1,1,0,0,0],300,300],oncreate:function(t){t.add(this,"width",0,500),t.add(this,"height",0,500)}})},crossHatch:function(){this.addFilter("CrossHatchFilter")},displacement:function(){var t=this;this.resources.map.texture.baseTexture.wrapMode=PIXI.WRAP_MODES.REPEAT;var e=new PIXI.Sprite(this.resources.map.texture);this.addFilter("DisplacementFilter",{enabled:!0,global:!0,args:[e,this.initWidth,this.initHeight],oncreate:function(n){this.scale.x=50,this.scale.y=50,n.add(this.scale,"x",1,200).name("scale.x"),n.add(this.scale,"y",1,200).name("scale.y"),t.events.on("resize",function(t,n){e.width=t,e.height=n})}})},dot:function(){this.addFilter("DotFilter",function(t){t.add(this,"scale",.3,1),t.add(this,"angle",0,5)})},dropShadow:function(){this.addFilter("DropShadowFilter",{fishOnly:!0,oncreate:function(t){t.add(this,"blur",0,40),t.add(this,"alpha",0,1),t.add(this,"distance",0,50),t.add(this,"rotation",0,360),t.addColor(this,"color")}})},emboss:function(){this.addFilter("EmbossFilter",function(t){t.add(this,"strength",0,20)})},glow:function(){this.addFilter("GlowFilter",{fishOnly:!0,args:[15,2,1,16777215,.1],oncreate:function(t){t.add(this,"innerStrength",0,20),t.add(this,"outerStrength",0,20),t.add(this,"distance",10,20),t.addColor(this,"color")}})},godray:function(){var t=this;this.addFilter("GodrayFilter",{enabled:!1,opened:!1,oncreate:function(e){var n=this;this.angle=30,this.gain=.5,this.lacunarity=2.5,n.animating=!0,t.events.on("enable",function(t){t&&n.animating&&(n.time=0)}),t.events.on("animate",function(){n.animating&&(n.time+=t.ticker.elapsedMS/1e3)}),e.add(this,"animating").name("(animating)"),e.add(this,"time",0,1),e.add(this,"angle",-60,60),e.add(this,"gain",0,1),e.add(this,"lacunarity",0,5)}})},multiColorReplace:function(){var t=[[3238359,16711680],[938417,65280],[1464209,16776960]];this.addFilter("MultiColorReplaceFilter",{args:[t,.2],oncreate:function(e){var n=this.refresh.bind(this);e.addColor(t[0],"0").name("original 0").onChange(n),e.addColor(t[0],"1").name("target 0").onChange(n),e.addColor(t[1],"0").name("original 1").onChange(n),e.addColor(t[1],"1").name("target 1").onChange(n),e.addColor(t[2],"0").name("original 2").onChange(n),e.addColor(t[2],"1").name("target 2").onChange(n),e.add(this,"epsilon",0,1)}})},noise:function(){this.addFilter("NoiseFilter",{global:!0,oncreate:function(t){t.add(this,"noise",0,1),t.add(this,"seed",.01,.99)}})},outline:function(){this.addFilter("OutlineFilter",{fishOnly:!0,oncreate:function(t){t.add(this,"thickness",0,20),t.addColor(this,"color")}})},pixelate:function(){this.addFilter("PixelateFilter",function(t){t.add(this.size,"0",4,40).name("size.x"),t.add(this.size,"1",4,40).name("size.y")})},rgb:function(){this.addFilter("RGBSplitFilter",function(t){t.add(this.red,"0",-20,20).name("red.x"),t.add(this.red,"1",-20,20).name("red.y"),t.add(this.blue,"0",-20,20).name("blue.x"),t.add(this.blue,"1",-20,20).name("blue.y"),t.add(this.green,"0",-20,20).name("green.x"),t.add(this.green,"1",-20,20).name("green.y")})},shockwave:function(){var t=this;this.addFilter("ShockwaveFilter",{enabled:!1,global:!1,args:[[t.initWidth/2,t.initHeight/2]],oncreate:function(e){var n=this;n.animating=!0,t.events.on("enable",function(t){t&&n.animating&&(n.time=0)}),t.events.on("animate",function(){n.animating&&(n.time+=t.ticker.elapsedMS/1e3,n.time%=2.5)}),e.add(this,"animating").name("(animating)"),e.add(this,"time",0,2.5),e.add(this,"amplitude",1,100),e.add(this,"wavelength",2,400),e.add(this,"brightness",.2,2),e.add(this,"radius",100,2e3),e.add(this.center,"0",0,t.initWidth).name("center.x"),e.add(this.center,"1",0,t.initHeight).name("center.y")}})},simpleLightmap:function(){this.addFilter("SimpleLightmapFilter",{args:[this.resources.lightmap.texture,6710886],oncreate:function(t){t.addColor(this,"color"),t.add(this,"alpha",0,1)}})},tiltShift:function(){this.addFilter("TiltShiftFilter",function(t){t.add(this,"blur",0,200),t.add(this,"gradientBlur",0,1e3)})},twist:function(){var t=this;this.addFilter("TwistFilter",function(e){this.offset=new PIXI.Point(t.initWidth/2,t.initHeight/2),e.add(this,"angle",-10,10),e.add(this,"radius",0,t.initWidth),e.add(this.offset,"x",0,t.initWidth),e.add(this.offset,"y",0,t.initHeight)})},zoomBlur:function(){var t=this;this.addFilter("ZoomBlurFilter",{args:[.1,[t.initWidth/2,t.initHeight/2],80],oncreate:function(e){e.add(this,"strength",.01,.5),e.add(this.center,"0",0,t.initWidth).name("center.x"),e.add(this.center,"1",0,t.initHeight).name("center.y"),e.add(this,"innerRadius",0,t.initWidth/2)}})}}),bt=new xt;bt.load([{name:"background",url:"images/displacement_BG.jpg"},{name:"overlay",url:"images/overlay.png"},{name:"map",url:"images/displacement_map.png"},{name:"fish1",url:"images/displacement_fish1.png"},{name:"fish2",url:"images/displacement_fish2.png"},{name:"fish3",url:"images/displacement_fish3.png"},{name:"fish4",url:"images/displacement_fish4.png"},{name:"lightmap",url:"images/lightmap.png"}],function(){for(var t in yt)yt[t].call(bt)})});
